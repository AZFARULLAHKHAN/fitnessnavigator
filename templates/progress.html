{% extends 'layout.html' %}

{% block title %}Progress Dashboard - Fitness Navigator{% endblock %}

{% block content %}
<div class="container mt-5">
    <h2 class="text-center mb-4">üìä Weekly Progress Dashboard</h2>
    
    <!-- Weight Progress -->
    <div class="row mb-4">
        <div class="col-md-6">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">üìà Weight Progress</h5>
                    <canvas id="weightChart" width="400" height="200"></canvas>
                    <p class="text-center mt-2">Lost 2kg this week! üéâ</p>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">üëü Daily Steps</h5>
                    <canvas id="stepsChart" width="400" height="200"></canvas>
                    <p class="text-center mt-2">Average 9,500 steps/day</p>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Progress Meters -->
    <div class="row mb-4">
        <div class="col-md-4">
            <div class="card text-center">
                <div class="card-body">
                    <h5 class="card-title">üî• Workout Streak</h5>
                    <div class="progress-circle">
                        <div class="progress-value">5</div>
                        <div class="progress-label">days</div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card text-center">
                <div class="card-body">
                    <h5 class="card-title">üî• Calories Burned</h5>
                    <div class="progress-circle">
                        <div class="progress-value">1850</div>
                        <div class="progress-label">/ 2000</div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card text-center">
                <div class="card-body">
                    <h5 class="card-title">‚≠ê Activity Score</h5>
                    <div class="progress-circle">
                        <div class="progress-value">85%</div>
                        <div class="progress-label">active</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
.progress-circle {
    width: 100px;
    height: 100px;
    border-radius: 50%;
    background: conic-gradient(#007bff 0deg 306deg, #e9ecef 306deg 360deg);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    margin: 0 auto;
    position: relative;
}

.progress-circle::before {
    content: '';
    width: 70px;
    height: 70px;
    border-radius: 50%;
    background: white;
    position: absolute;
}

.progress-value, .progress-label {
    position: relative;
    z-index: 1;
    font-weight: bold;
}

.progress-value {
    font-size: 18px;
    color: #212529;
}

.progress-label {
    font-size: 12px;
    color: #666;
}
</style>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
// Weight Chart
const weightCtx = document.getElementById('weightChart').getContext('2d');
new Chart(weightCtx, {
    type: 'line',
    data: {
        labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
        datasets: [{
            label: 'Weight (kg)',
            data: [75, 74.5, 74, 73.8, 73.5, 73.2, 73],
            borderColor: '#007bff',
            backgroundColor: 'rgba(0,123,255,0.1)',
            tension: 0.4
        }]
    },
    options: {
        responsive: true,
        scales: {
            y: { beginAtZero: false }
        }
    }
});

// Steps Chart
const stepsCtx = document.getElementById('stepsChart').getContext('2d');
new Chart(stepsCtx, {
    type: 'line',
    data: {
        labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
        datasets: [{
            label: 'Steps',
            data: [8500, 9200, 7800, 10500, 9800, 11200, 9500],
            borderColor: '#28a745',
            backgroundColor: 'rgba(40,167,69,0.1)',
            tension: 0.4
        }]
    },
    options: {
        responsive: true,
        scales: {
            y: { beginAtZero: true }
        }
    }
});
</script>
{% endblock %}